<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Instructions – Page 2 (Details)</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body id="page-instructions">
  <header id="instr-header">
    <h1 id="instr-header__title">AI-Assisted Ideation through Contrary and Base-Additive Combinational Framework</h1>
    <h2 id="instr-header__subtitle">Detailed Experiment Flow / 実験の詳細</h2>
  </header>

  <main id="instr-container">
    <div id="instr-lang-switch">
      <a class="btn" href="javascript:void(0)" onclick="showLang('en')">English</a>
      <a class="btn" href="javascript:void(0)" onclick="showLang('jp')">日本語</a>
      <span id="timer-display" class="timer">⏱ 00:00</span>
    </div>

    <!-- ================= ENGLISH ================= -->
    <section id="instr-content-en" lang="en">
      <h1 class="instr__title">Selected Bases</h1>
      <p class="instr__p">
        You will work on four Base topics:
        <strong>Umbrella</strong>, <strong>Pen</strong>, <strong>Chair</strong>, and <strong>Power Supply</strong>.
        Each Base may include common variants (e.g., umbrella = foldable umbrella / parasol / vinyl umbrella;
        pen = pencil / ballpoint / fountain pen). Relevant accessories (e.g., umbrella case, charging stand)
        may be considered when they help the concept.
      </p>

      <h2 class="instr__title">Per-Base Flow (≈ 15 minutes)</h2>
      <ol class="instr__p">
        <li><strong>Describe the Base</strong> in <em>1–2 sentences</em> (your understanding/assumptions).</li>
        <li><strong>Idea 1 — Control:</strong> Create your first idea <em>without</em> system suggestions → <strong>Submit</strong>.</li>
        <li><strong>System suggestions:</strong> The system shows candidate <em>Additives</em>.</li>
        <li><strong>Idea 2 — Assisted:</strong> Combine the Base with <em>one</em> suggested Additive
            (apply <em>Contrary</em> if prompted) → <strong>Submit</strong>.</li>
      </ol>
      <p class="instr__p"><strong>Time limit:</strong> ~<em>15 minutes per Base</em> (Base description + two ideas).</p>

      <h2 class="instr__title">Overall Schedule</h2>
      <ol class="instr__p">
        <li><strong>Base 1: Umbrella</strong> — Control → Assisted (~15 min)</li>
        <li><strong>Base 2: Pen</strong> — Control → Assisted (~15 min)</li>
        <li><strong>Short break</strong> (3–5 min)</li>
        <li><strong>Base 3: Chair</strong> — Control → Assisted (~15 min)</li>
        <li><strong>Base 4: Power Supply</strong> — Control → Assisted (~15 min)</li>
      </ol>
      <p class="instr__p">
        <strong>Total output:</strong> 4 Bases × 2 ideas = <strong>8 ideas</strong> (plus 4 short Base descriptions).
      </p>

      <h2 class="instr__title">Writing Guidance</h2>
      <ul class="instr__p">
        <li>Use <strong>1–3 sentences</strong> per idea with a clear concept or use scenario.</li>
        <li>If stuck, try an opposite/unconventional angle.</li>
        <li>Do not include personal or identifying information.</li>
        <li>Each <strong>Submit</strong> saves your work and advances to the next step.</li>
      </ul>

      <div class="instr-actions">
        <!-- Start the survey; change to url_for('survey_umbrella') if you want to jump straight to Base 1 -->
        <a href="{{ url_for('instructions') }}" class="btn">Go Back to Introduction</a>
        <a href="{{ url_for('base1') }}" class="btn">I understand. Start the survey</a>
      </div>
    </section>

    <!-- ================= JAPANESE ================= -->
    <section id="instr-content-jp" lang="ja" class="u-hidden">
      <h1 class="instr__title">対象となるBase</h1>
      <p class="instr__p">
        取り組むBaseは次の4つです：<strong>傘</strong>、<strong>ペン</strong>、<strong>椅子</strong>、<strong>電源</strong>。
        それぞれ一般的なバリエーション（例：傘＝折りたたみ傘／日傘／ビニール傘、ペン＝鉛筆／ボールペン／万年筆）を含みます。
        コンセプトの理解に役立つ場合、関連アクセサリ（例：傘ケース、充電スタンド）も検討可能です。
      </p>

      <h2 class="instr__title">各Baseの手順（約15分）</h2>
      <ol class="instr__p">
        <li><strong>Baseの記述：</strong> 1〜2文で理解・前提を書いてください。</li>
        <li><strong>アイデア1（Control）：</strong> システム提案を見ずに作成 → <strong>送信</strong>。</li>
        <li><strong>システム提案：</strong> 候補<strong>Additive</strong>が表示されます。</li>
        <li><strong>アイデア2（Assisted）：</strong> 提示Additiveの<strong>いずれか1つ</strong>とBaseを組み合わせ
            （指示がある場合はContrary（反対発想）も適用）→ <strong>送信</strong>。</li>
      </ol>
      <p class="instr__p"><strong>時間制限：</strong> 各Baseあたり約15分（Base記述＋2アイデア）。</p>

      <h2 class="instr__title">全体の流れ</h2>
      <ol class="instr__p">
        <li><strong>Base 1：傘</strong> — Control → Assisted（約15分）</li>
        <li><strong>Base 2：ペン</strong> — Control → Assisted（約15分）</li>
        <li><strong>短い休憩</strong>（3〜5分）</li>
        <li><strong>Base 3：椅子</strong> — Control → Assisted（約15分）</li>
        <li><strong>Base 4：電源</strong> — Control → Assisted（約15分）</li>
      </ol>
      <p class="instr__p">
        <strong>合計：</strong> 4つのBase × 2アイデア ＝ <strong>8アイデア</strong>（＋Base記述4件）。
      </p>

      <h2 class="instr__title">記述のヒント</h2>
      <ul class="instr__p">
        <li>各アイデアは<strong>1〜3文</strong>で、概念や利用シーンを簡潔に書いてください。</li>
        <li>行き詰まった場合は、逆・非常識といった視点も検討してください。</li>
        <li>個人情報や特定可能な情報は記入しないでください。</li>
        <li><strong>送信</strong>のたびに保存され、次のステップへ進みます。</li>
      </ul>

      <div class="instr-actions">
        <a href="{{ url_for('instructions') }}" class="btn">前のページに戻る</a>
        <a href="{{ url_for('base1') }}" class="btn">アンケートを開始</a>
      </div>
    </section>
  </main>

  <script>
    function showLang(lang) {
      const en = document.getElementById('instr-content-en');
      const jp = document.getElementById('instr-content-jp');
      const showEn = (lang === 'en');
      en.classList.toggle('u-hidden', !showEn);
      jp.classList.toggle('u-hidden', showEn);
      localStorage.setItem('lang', lang);
    }

    let startTime, timerInterval;
    function startTimer() {
      startTime = Date.now();
      localStorage.setItem('pageStartTime', startTime.toString());
      timerInterval = setInterval(updateTimerDisplay, 1000);
    }
    function updateTimerDisplay() {
      const display = document.getElementById('timer-display');
      const elapsed = Math.floor((Date.now() - startTime) / 1000);
      const minutes = String(Math.floor(elapsed / 60)).padStart(2, '0');
      const seconds = String(elapsed % 60).padStart(2, '0');
      display.textContent = `⏱ ${minutes}:${seconds}`;
    }
    function stopTimer() {
      if (!startTime) return;
      const total = Math.floor((Date.now() - startTime) / 1000);
      // (Optional) Use a page-specific key so page 1 and 2 don’t overwrite each other:
      localStorage.setItem('page2TimeSpent', total.toString());
      clearInterval(timerInterval);
    }

    window.addEventListener('DOMContentLoaded', () => {
      const savedLang = localStorage.getItem('lang') || 'en';
      showLang(savedLang);
      startTimer();
    });
    window.addEventListener('beforeunload', stopTimer);
  </script>


</body>
</html>
