<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Base No.2 | Umbrella</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style_base.css') }}">
  </head>

  <body id="page-base">
    <header class="page-header">
      <h1>Base No.2 — Umbrella<br>ベース No.2 — 傘</h1>
      <p>Control → Assisted Workflow (~15 min)<br>Control → Assisted の流れ（約15分）</p>
      <span id="timer-display" class="timer">⏱ 00:00</span>
    </header>

    <main class="container">
      <section class="card">
        <h2>Base Object<br>ベース対象</h2>
        <p>
          <strong>Umbrella</strong> — foldable, parasol, vinyl umbrella, etc.; related accessories allowed if helpful.<br>
          <strong>傘：</strong> 折りたたみ傘・日傘・ビニール傘など。必要なら傘袋・フック等のアクセサリも可。
        </p>
      </section>

      <form id="form-base2" class="card" method="POST" action="{{ url_for('base2') }}" enctype="multipart/form-data">
        <input type="hidden" name="base_id" value="2">
        <input type="hidden" name="base_name" value="Umbrella">
        <input type="hidden" name="step" value="control">

        <h2>Step A — Describe the Base<br>ステップA — Baseの記述</h2>
        <label class="block">
          <span>Your understanding / assumptions<br>あなたの理解・前提</span>
          <textarea name="base_desc" rows="3" required
            placeholder="A portable canopy for rain/sun protection...&#10;（例）雨や日差しから身を守る携帯用の覆い。"></textarea>
        </label>

        <h2>Step B — Idea 1 (Control)<br>ステップB — アイデア1（Control）</h2>

        <label class="block">
          <span>Problem descriptors (3–5 short phrases)<br>問題点の記述（3〜5語句）</span>
          <input name="descriptors" type="text" required
            placeholder="drips indoors, breaks in wind, bulky&#10;室内が濡れる, 風に弱い, かさばる">
        </label>

        <label class="block">
          <span>Optional keywords<br>任意のキーワード</span>
          <input name="keywords" type="text" placeholder="self-drying, auto-fold, compact&#10;速乾, 自動折り畳み, コンパクト">
        </label>

        <label class="block">
          <span>Reasoning (2–3 sentences)<br>組合理由（2〜3文）</span>
          <textarea name="reason" rows="3" required
            placeholder="Why this concept? Who benefits?&#10;なぜこの構想か／誰にどんな利点があるか。"></textarea>
        </label>

        <label class="block">
          <span>Proposed concept (1–3 sentences)<br>提案コンセプト（1〜3文）</span>
          <textarea name="concept" rows="3" required
            placeholder="Clearly state the core idea.&#10;コアとなる着想を明確に簡潔に。"></textarea>
        </label>

        <div class="form-actions">
          <button type="submit" class="btn">Submit Idea 1 &amp; Continue<br>送信して続行</button>
        </div>
      </form>

      <section class="card">
        <h3>After submission<br>送信後</h3>
        <ol>
          <li>The system will show candidate <em>Contrary traits</em> and <em>Additives</em>.<br>システムが <em>Contrary 特徴</em> と <em>Additive 候補</em> を表示します。</li>
          <li>You will create <strong>Idea 2 (Assisted)</strong> next.<br>次に <strong>アイデア2（Assisted）</strong> を作成します。</li>
        </ol>
      </section>

      <nav class="page-nav">
        <a class="btn btn-secondary" href="{{ url_for('base1') }}">⟵ Back<br>戻る</a>
        <a class="btn btn-secondary" href="{{ url_for('base3') }}">Save &amp; return later<br>保存して後で再開</a>
      </nav>
    </main>

    <script>
      let startTime, timerInterval;
      function startTimer(){ startTime = Date.now(); localStorage.setItem('base2Start', String(startTime)); timerInterval=setInterval(updateTimer,1000); }
      function updateTimer(){ const d=document.getElementById('timer-display'); const t=Math.floor((Date.now()-startTime)/1000); const m=String(Math.floor(t/60)).padStart(2,'0'); const s=String(t%60).padStart(2,'0'); d.textContent=`⏱ ${m}:${s}`; }
      function stopTimer(){ if(!startTime)return; const total=Math.floor((Date.now()-startTime)/1000); localStorage.setItem('base2TimeSpent', String(total)); clearInterval(timerInterval); }
      window.addEventListener('DOMContentLoaded', startTimer);
      window.addEventListener('beforeunload', stopTimer);
    </script>
  </body>
</html>
